<form id="registerForm" action="loginServlet" method="post">
	Nom: <input type="text" name="fullname" required minlength="4"><br>
	Identifiant: <input type="text" name="user" required minlength="4"><br>
	Mail: <input type="email" name="mail" required><br>
	Mot de passe: <input id="password" type="password" name="password" required minlength="8"><br>
	Confirmez le mot de passe: <input id="password2" type="password" required><br>
	<input type="hidden" name="op" value="inscription">
	<input type="submit" value="S'inscrire">
</form>

<p id="registerError"></p>

<script>
	let regError = document.getElementById("registerError");
	let form = document.getElementById("registerForm");

	function validateForm() {
		regError.innerText = "";

		let password = document.getElementById("password").value;
		let password2 = document.getElementById("password2").value;
		if(password !== password2) {
			regError.innerText = "Les mots de passes ne sont pas conformes.";
			return false;
		}

		return true;
	}

	form.addEventListener("submit", (e) => {
		if(!validateForm()) {
			e.preventDefault();
		}
	}, false);
</script>